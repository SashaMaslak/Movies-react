{"version":3,"file":"static/js/217.f53417b5.chunk.js","mappings":"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","sources":["components/Box.jsx","components/Button/Button.styled.js","components/Button/Button.jsx","components/MoviesList/MoviesList.styled.js","components/MoviesList/MoviesList.jsx","components/Searchbar/SearchBar.styled.js","components/Searchbar/Searchbar.jsx","pages/MoviePage.jsx","services/fetchFilms.js","../node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","../node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","../node_modules/@babel/runtime/helpers/esm/iterableToArray.js","../node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js"],"sourcesContent":["import styled from 'styled-components';\nimport {\n  color,\n  space,\n  layout,\n  flexbox,\n  grid,\n  background,\n  border,\n  position,\n  typography,\n} from 'styled-system';\n\nexport const Box = styled('div')(\n  color,\n  space,\n  layout,\n  flexbox,\n  grid,\n  background,\n  border,\n  position,\n  typography\n);\n","import styled from 'styled-components';\n\n\nexport const ContainerBtn = styled.div`\ndisplay: flex;\n`\n\nexport const ButtonLoadMore = styled.button`\nmargin: 15px auto;\n  padding: 8px 16px;\n  border-radius: 3px;\n  background-color: #34ebae;\n  transition: all 250ms cubic-bezier(0.4, 0, 0.2, 1);\n  text-align: center;\n  display: inline-block;\n  color: #000;\n  border: 0;\n  text-decoration: none;\n  cursor: pointer;\n  font-family: inherit;\n  font-size: 18px;\n  line-height: 24px;\n  font-style: normal;\n  font-weight: 500;\n  min-width: 180px;\n  box-shadow: 0px 3px 1px -2px rgba(0, 0, 0, 0.2),\n    0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12);\n  &:hover {\n    box-shadow: 5px 5px 5px #ff00ff;\n    transition: box-shadow .25s linear;\n   }\n`;","import { ButtonLoadMore, ContainerBtn } from './Button.styled';\nimport PropTypes from 'prop-types';\n\nexport const Button = ({ handleLoadMore }) => {\n  return (\n    <ContainerBtn>\n      <ButtonLoadMore type=\"button\" onClick={handleLoadMore}>\n        LoadMore\n      </ButtonLoadMore>\n    </ContainerBtn>\n  );\n};\n\nButton.propTypes = {\n  handleLoadMore: PropTypes.func.isRequired,\n};\n","import styled from 'styled-components';\n\n/*\n * Стили компонента ImageGallery\n */\nexport const MovList = styled.ul`\n  display: grid;\n  grid-template-columns: 1fr 1fr 1fr 1fr;\n  gap: 32px;\n`;\n\nexport const Item = styled.li`\n  text-align: center;\n  border-radius: 10px;\n  :hover {\n    cursor: pointer;\n    box-shadow: 10px 10px 10px #ff00ff;\n    transition: box-shadow .25s linear;\n  }\n`;\n\nexport const ImgPoster = styled.img`\n  margin: auto;\n  border-radius: 8px;\n  margin-bottom: 10px;\n`\n\nexport const MovieTitle = styled.h3`\n  padding: 8px;\n`","import { NavLink, useLocation } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport { MovList, Item, ImgPoster, MovieTitle } from './MoviesList.styled';\nimport { theme } from 'theme';\nimport { Box } from 'components/Box';\n\nconst defaultPoster =\n  'https://motivatevalmorgan.com/wp-content/uploads/2016/06/default-movie.jpg';\n\nconst MoviesList = ({ movies }) => {\n  const location = useLocation();\n\n  return (\n    <Box as={theme.as.s} p={theme.space[5]}>\n      <MovList>\n        {movies.map(movie => {\n          return (\n            <Item key={movie.id}>\n              <NavLink to={`/movie/${movie.id}`} state={{ from: location }}>\n                <ImgPoster\n                  src={\n                    movie.poster_path\n                      ? `https://image.tmdb.org/t/p/w500${movie.poster_path}`\n                      : defaultPoster\n                  }\n                  alt=\"\"\n                />\n                <MovieTitle>{movie.original_title}</MovieTitle>\n              </NavLink>\n            </Item>\n          );\n        })}\n      </MovList>\n    </Box>\n  );\n};\n\nexport default MoviesList;\n\nMoviesList.propTypes = {\n  movies: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number.isRequired,\n      original_title: PropTypes.string,\n      poster_path: PropTypes.string,\n    }).isRequired\n  ),\n};\n","import styled from \"styled-components\";\n\n\nexport const SearchbarBlock = styled.div`\n   display: flex;\n   margin: auto;\n`\n\nexport const Form = styled.form`\n   margin: auto;\n`\n\nexport const FormInput = styled.input`\n   margin-right: 16px;\n   font-size: 18px;\n   &:hover {\n    box-shadow: 5px 5px 5px #ff00ff;\n    transition: box-shadow .25s linear;\n   }\n`\n\nexport const FormBtn = styled.button`\n   font-size: 18px;\n   background-color: #34ebae;\n   &:hover {\n    box-shadow: 5px 5px 5px #ff00ff;\n    transition: box-shadow .25s linear;\n   }\n`\n\n\n\n\n","import PropTypes from 'prop-types';\nimport { Form, SearchbarBlock, FormInput, FormBtn } from './SearchBar.styled';\n\nconst Searchbar = ({ onSubmit }) => {\n  return (\n    <SearchbarBlock>\n      <Form onSubmit={onSubmit}>\n        <FormInput\n          type=\"text\"\n          name=\"query\"\n          autoComplete=\"off\"\n          autoFocus\n          placeholder=\"Search movies\"\n        />\n        <FormBtn type=\"submit\">Search</FormBtn>\n      </Form>\n    </SearchbarBlock>\n  );\n};\n\nexport default Searchbar;\n\nSearchbar.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n};\n","import { useState, useEffect, Suspense } from 'react';\nimport { useSearchParams } from 'react-router-dom';\nimport Searchbar from 'components/Searchbar/Searchbar';\nimport MoviesList from 'components/MoviesList/MoviesList';\nimport { fetchFilmsByQuery } from 'services/fetchFilms';\nimport { theme } from 'theme';\nimport { Box } from 'components/Box';\nimport { Button } from 'components/Button/Button';\nimport { Loader } from 'components/Loader/Loader';\n\nconst MoviePage = () => {\n  const [movies, setMovies] = useState([]);\n  const [page, setPage] = useState(1);\n  const [isLoading, setIsLoading] = useState(false);\n\n  const [searchParams, setSearchParams] = useSearchParams();\n\n  useEffect(() => {\n    const params = searchParams.get('query');\n    if (params?.trim()) {\n      const getMovieQuery = () => {\n        setIsLoading(true);\n        fetchFilmsByQuery(params, page)\n          .then(res => {\n            setMovies(prev => (page === 1 ? res : [...prev, ...res]))\n              .catch(error => console.log(error))\n              .finally(() => setIsLoading(false));\n          })\n          .catch(error => console.log(error))\n          .finally(() => setIsLoading(false));\n      };\n      getMovieQuery();\n    }\n  }, [searchParams, page]);\n\n  const handleLoadMore = () => {\n    setPage(prev => prev + 1);\n  };\n\n  const onSubmit = e => {\n    e.preventDefault();\n    setSearchParams({ query: e.currentTarget.elements.query.value });\n  };\n\n  return (\n    <Box as={theme.as.m} p={theme.space[4]}>\n      <Searchbar onSubmit={onSubmit} />\n      {isLoading && <Loader />}\n      <Suspense fallback={null}>\n        <MoviesList movies={movies} />\n        {!!movies.length && !isLoading && (\n          <Button handleLoadMore={handleLoadMore} />\n        )}\n      </Suspense>\n    </Box>\n  );\n};\n\nexport default MoviePage;\n","import axios from 'axios';\n\naxios.defaults.baseURL = 'https://api.themoviedb.org/3';\nconst API_KEY = 'b1ed6db84db5d6eba5aed4dde918fe90';\n\nexport const fetchTrendingFilms = async (page) => {\n  const {data:{results}} = await axios.get(`/trending/movie/week?api_key=${API_KEY}&page=${page}&language=en`);\n  return results;\n};\n\nexport const fetchFilmsByQuery = async (query, page) => {\n  const {data:{results}} = await axios.get(`/search/movie?api_key=${API_KEY}&query=${query}&page=${page}`);\n  return results;\n};\n\nexport const fetchFilmsById = async (id) => {\n  const {data} = await axios.get(`/movie/${id}?api_key=${API_KEY}`);\n  return data;\n};\n\nexport const fetchCast = async (id) => {\n  const {data} = await axios.get(`/movie/${id}/credits?api_key=${API_KEY}`);\n  return data;\n};\n\nexport const fetchReviews = async (id) => {\n  const {data} = await axios.get(`/movie/${id}/reviews?api_key=${API_KEY}`);\n  return data;\n};\n","import arrayWithoutHoles from \"./arrayWithoutHoles.js\";\nimport iterableToArray from \"./iterableToArray.js\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nimport nonIterableSpread from \"./nonIterableSpread.js\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","import arrayLikeToArray from \"./arrayLikeToArray.js\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}"],"names":["Box","styled","color","space","layout","flexbox","grid","background","border","position","typography","ContainerBtn","ButtonLoadMore","Button","handleLoadMore","type","onClick","MovList","Item","ImgPoster","MovieTitle","movies","location","useLocation","as","theme","p","map","movie","to","id","state","from","src","poster_path","alt","original_title","SearchbarBlock","Form","FormInput","FormBtn","onSubmit","name","autoComplete","autoFocus","placeholder","useState","setMovies","page","setPage","isLoading","setIsLoading","useSearchParams","searchParams","setSearchParams","useEffect","params","get","trim","fetchFilmsByQuery","then","res","prev","catch","error","console","log","finally","e","preventDefault","query","currentTarget","elements","value","Loader","Suspense","fallback","MoviesList","length","axios","API_KEY","fetchTrendingFilms","results","data","fetchFilmsById","fetchCast","fetchReviews","_toConsumableArray","arr","Array","isArray","arrayLikeToArray","iter","Symbol","iterator","unsupportedIterableToArray","TypeError"],"sourceRoot":""}